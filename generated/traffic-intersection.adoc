== TrafficIntersectionFSM State Chart

=== TrafficIntersectionFSM State Map

|===
| Start | Event[Guard] | Target | Action

| STOPPED
| START
| LEFT_GOING
a| [source,kotlin]
----
{
stopRight()
goLeft()
}
----

| STOPPED
| STOPPED
| STOPPED
a| [source,kotlin]
----
{
}
----

| LEFT_GOING
| \<<timeout = {leftCycleTime}>>
| LEFT_STOPPING
a| [source,kotlin]
----
{
stopLeft()
}
----

| LEFT_GOING
| SWITCH
| LEFT_STOPPING
a| [source,kotlin]
----
{
stopLeft()
}
----

| LEFT_GOING
| STOP
| STOPPED
a| [source,kotlin]
----
{
stopLeft()
}
----

| LEFT_STOPPING
| STOPPED
| LEFT_WAITING
a| [source,kotlin]
----
{
}
----

| LEFT_STOPPING
| SWITCH
| LEFT_WAITING
a| [source,kotlin]
----
{
}
----

| LEFT_STOPPING
| STOP
| STOPPED
a| [source,kotlin]
----
{
stopLeft()
}
----

| LEFT_WAITING
| \<<timeout = {cycleWaitTime}>>
| RIGHT_GOING
a| [source,kotlin]
----
{
goRight()
}
----

| LEFT_WAITING
| SWITCH
| LEFT_WAITING
a| [source,kotlin]
----
{
}
----

| LEFT_WAITING
| STOP
| STOPPED
a| [source,kotlin]
----
{
stopLeft()
}
----

| RIGHT_GOING
| \<<timeout = {rightCycleTime}>>
| RIGHT_STOPPING
a| [source,kotlin]
----
{
stopRight()
}
----

| RIGHT_GOING
| SWITCH
| RIGHT_STOPPING
a| [source,kotlin]
----
{
stopRight()
}
----

| RIGHT_GOING
| STOP
| STOPPED
a| [source,kotlin]
----
{
stopRight()
}
----

| RIGHT_STOPPING
| STOPPED
| RIGHT_WAITING
a| [source,kotlin]
----
{
}
----

| RIGHT_STOPPING
| SWITCH
| RIGHT_WAITING
a| [source,kotlin]
----
{
}
----

| RIGHT_STOPPING
| STOP
| STOPPED
a| [source,kotlin]
----
{
}
----

| RIGHT_WAITING
| \<<timeout = {cycleWaitTime}>>
| LEFT_GOING
a| [source,kotlin]
----
{
goLeft()
}
----

| RIGHT_WAITING
| SWITCH
| RIGHT_WAITING
a| [source,kotlin]
----
{
}
----

| RIGHT_WAITING
| STOP
| STOPPED
a| [source,kotlin]
----
{
stopRight()
}
----
|===

